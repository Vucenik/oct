<!DOCTYPE html><html lang="en"><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge"> <title>OCT ANGIO ANALIZATOR</title> <link rel="icon" href="data:image/jpeg;base64,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" type="image/gif" sizes="16x16"> <style>body{min-height: 100vh; padding: 20px; display: flex; flex-direction: column; justify-content: center; align-items: center; background: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gNzUK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8IAEQgADQAZAwERAAIRAQMRAf/EABcAAAMBAAAAAAAAAAAAAAAAAAYHCAT/xAAaAQEAAgMBAAAAAAAAAAAAAAAFAwYBAgQH/9oADAMBAAIQAxAAAAFA++Ea6ym7yNZfAyXg2akpHxzkKlqWqf/EABsQAAICAwEAAAAAAAAAAAAAAAMEBQYAAQIT/9oACAEBAAEFAn1SImY0uFCaq0FzVfXOJXpw4ILZMsFUEoln/8QAKhEAAQIEBAMJAAAAAAAAAAAAAQIDAAQFESExQWEGEPATFSJRUnGRsfH/2gAIAQMBAT8BZBcUW0jHLI9GE01+wJbV8GHZFxsBRSUx2e5ilMJ7/So4+Ii2mf37xMcQPonVoDYwuc1+ROit/wAh+vTFRbUw6kWx9eg3Xbq/L//EAC0RAAECAwQHCQAAAAAAAAAAAAIBEQADBAUhMUEGExVRYYGhEBQiU3GT0eHw/9oACAECAQE/Aa606cpcmofwOhPgnXPpFfpcaTpkilIGR2J357l4Y+kUulVUs3VVCoYcR5uyfmvjbJ+RK9sYn1p7N7uODfd26BsUTkazWLcKKzJm93SJdnBLUSEsUVcsn+Oz/8QAJhAAAQMCBQMFAAAAAAAAAAAAAQIDEQAEEhMhIkEFMZEQMjNh4f/aAAgBAQAGPwLLcjEDwatlt43LxSiXGyNgSO33Jp/qKCLW6QCcpLukgxEKk17U+KQw802tQcAS7EFKRO3TirVo3O1xeV8SeAn88V1S1zsYtLcvhRbEk6c9+fT/xAAgEAACAgEDBQAAAAAAAAAAAAABESExAEFRYRCBkdHh/9oACAEBAAE/IRnjHL5VhsJq8tt5FxEguBtOowD8s6Zs5oO28f58TmeWpYQMx4w+XJEiq2WJuB29miL7OBAezp0//9oADAMBAAIAAwAAABC4zjz/xAAeEQEBAAICAgMAAAAAAAAAAAABESExAEFR4RBhgf/aAAgBAwEBPxBTCdNi4JTb6vXnn5RPVwmpZkS4cCzPfeknZHseDfQ0lYrKO0YWqL3ENNESA2WxHYcA1QTjFnlaoq0ErxRjgUPj/8QAHREBAQEBAAMBAQEAAAAAAAAAAREhMQBBUXHB8P/aAAgBAgEBPxATs0AIHdjFDvUW8IdgXIAxKirB0ag0c3CsxklLIZOnT75/kP54RFNH3Wg4sfBj2Cqp8gqSCWp69pq8+o8vE9mMB389n75//8QAGhABAQEBAQEBAAAAAAAAAAAAAREhMQBBUf/aAAgBAQABPxA28kJck0gEhRx+AVfvXI4hy0GuTJ9HkG7ZQjkQQw9sN5lkwICI2jOe4TfHHKgFT9j6Wg+IK4pUKhG9XkAEnv/Z'); background-size: cover; background-repeat: no-repeat; background-position: center; background-color: rgb(255, 228, 196);}#tablica{margin-bottom: 30px; margin-top: 30px;}#file{margin: 20px;}canvas{margin: 10px;}img{margin: 10px;}nav{display: flex; top: 0; position: fixed; width: 100%; padding-right: 25px; padding-left: 10px; background-color: darkblue;}nav a{color: azure; text-decoration: none; text-align: center; padding: 14px 16px; transition: all 0.3s; font-weight: bolder; text-transform: uppercase;}nav a:hover{background-color: deepskyblue; color: whitesmoke;}h1{padding: 14px 16px; color: darkblue; font-weight: bolder; font-stretch: extra-expanded; font-size: 300%; text-align: center;}h4{text-transform: uppercase;}h2{text-transform: uppercase;}table{color: darkblue; padding: 10px 13px; width: 100%;}td, tr{text-align: center; padding: 14px 16px; font-weight: bolder; text-transform: uppercase;}.kontejner{background-color: rgba(245, 245, 245, 0.884); padding: 14px 20px; color: darkblue;}hr{padding: 10px;}#kontejnertablica{display: none;}#spiner{height: 100%; background-color: bisque; border-radius: 50%; color: darkblue; font-size: 20px; padding: 10px; margin-left: auto; cursor: default;}#klizac{color:darkblue; text-transform: uppercase;}h3{color:darkblue; text-transform: uppercase;}#slider::-webkit-slider-thumb{-webkit-appearance: none; height: 30px; width:30px; border-radius: 50%; background:darkblue; cursor: pointer;}#slider{-webkit-appearance: none; height: 30px; width:100%; border-radius:15px; background:#d3d3d3; outline: none; opacity: 0.7; transition:opacity .2s;}#slider:hover{opacity: 1;}</style></head><body> <nav> <a href="#" id='izaberi' class="gumb">Izaberi datoteku</a> <a href="#" id='obrada' class="gumb" >Prika≈æi obradu </a> <a href="#" id="link">Skini tablicu</a> <a href="#" id="spiner">üê¢</a> </nav> <div class="kontejner" id='kontejner'> <h1>OCT ANGIO ANALIZATOR ≈ΩBƒå</h1> <input type="file" name="datoteke" id="file" accept=".jpg, .jpeg, .png, .bmp" multiple> <h4 id="prikazdat"></h4> <br><table id="tablica" class="tablica"> <tr> <th>Slika naslov</th> <th>udio ≈æila i kapilara u %</th> </tr></table> </div><br><div class="kontejner" id="kontejnertablica"> </div><div class="klizac"> <h3>Raspon frekvencija u rasponu od</h3> <h3 id="brojac__slider">1</h3> <input type="range" name="korak" id="slider" min="1" max="10" step="1" value="1"></div></body><script>
//***********************OBRADA ANGIO OCT  ≈ΩBƒå***************************************
    // VERZIJA 1.0.4.
    //AUTOR VLATKO VUƒåENIK 19.12.2019
  
  const napraviTablicu=function(e=[],a){let n=document.createElement("table");n.setAttribute("class","tablica");let t=document.createElement("tr"),r=document.createElement("th"),i=document.createElement("th");return r.textContent="Slika naslov",t.appendChild(r),i.textContent="udio ≈æila i kapilara u%",t.appendChild(i),n.appendChild(t),e.forEach(e=>{let a=document.createElement("tr"),t=document.createElement("td"),r=document.createElement("td");t.innerText=e.naslov,a.appendChild(t),r.innerText=e.prosjek,a.appendChild(r),n.appendChild(a)}),n},napraviTablicuObrade=function(){for(kontejnerTablica.style.display="block";kontejnerTablica.firstChild;)kontejnerTablica.removeChild(kontejnerTablica.firstChild);let e=obrada.deepObrada.odstupanjeOdSredine,a=obrada.deepObrada.aritmetiƒçkaSredina,n=obrada.deepObrada.medijan,t=obrada.deepObrada.raspon[0],r=obrada.deepObrada.raspon[1],i=obrada.deepObrada.varijanca,d=obrada.deepObrada.standardnaDevijacija,l=obrada.deepObrada.rsd,o=obrada.deepObrada.najmanji.naslov;void 0===o&&(o=" - ");obrada.deepObrada.najmanji.naslov;let s=obrada.deepObrada.standarDevBezNajmanjeg,c=(Number(s)/Number(a)*100).toFixed(2);isNaN(c)&&(c=0);let u=obrada.superfObrada.aritmetiƒçkaSredina,p=obrada.superfObrada.medijan,h=obrada.superfObrada.raspon[0],j=(obrada.superfObrada.raspon[1],obrada.superfObrada.odstupanjeOdSredine),b=obrada.superfObrada.varijanca,m=obrada.superfObrada.rsd,f=obrada.superfObrada.najmanji.naslov;void 0===f&&(f=" - ");let k=obrada.superfObrada.standarDevBezNajmanjeg,g=(Number(k)/Number(u)*100).toFixed(2);isNaN(g)&&(g=0);let v=obrada.superfObrada.standardnaDevijacija?obrada.superfObrada.standardnaDevijacija:"",O=`<h4> Aritmetiƒçka sredina ${a} </h4>\n<h4> Medijan ${n} </h4>\n<h4> Raspon ${t} - ${r} </h4>\n<h4> Prosjeƒçno odstupanje od aritmetiƒçke sredine ${e} </h4>\n<h4> Varijanca ${i} </h4>\n<h4> Standardna devijacija ${d} </h4>\n<h4> Relativna standardna devijacija ${l} </h4>\n<h4> Najmanja gustoƒáa ≈æila ${o} </h4>\n<h4> Standardna devijacija bez najmanjeg elementa ${s}  RSD ${c} </h4>\n`,T=`<h4> Aritmetiƒçka sredina ${u} </h4>\n<h4> Medijan ${p} </h4>\n<h4> Raspon ${h} - ${obrada.superfObrada.raspon[1]} </h4>\n<h4> Prosjeƒçno odstupanje od aritmetiƒçke sredine ${j} </h4>\n<h4> Varijanca ${b} </h4>\n<h4> Standardna devijacija ${v} </h4>\n<h4> Relativna standardna devijacija ${m} </h4>\n<h4> Najmanja gustoƒáa ≈æila ${f} </h4>\n<h4> Standardna devijacija bez najmanjeg elementa ${k}  RSD ${g} </h4>\n`;kontejnerTablica.insertAdjacentHTML("afterBegin"," <h2>Obrada DEEP</h2>"),kontejnerTablica.appendChild(napraviTablicu(obrada.deep)),kontejnerTablica.insertAdjacentHTML("beforeEnd",O),kontejnerTablica.insertAdjacentHTML("beforeEnd"," <h2>Obrada superficijal</h2>"),kontejnerTablica.appendChild(napraviTablicu(obrada.superf)),kontejnerTablica.insertAdjacentHTML("beforeEnd",T)},napraviTablicuObrade2=function(e={}){for(kontejnerTablica.style.display="block";kontejnerTablica.firstChild;)kontejnerTablica.removeChild(kontejnerTablica.firstChild);let a=e.deepObrada.odstupanjeOdSredine,n=e.deepObrada.aritmetiƒçkaSredina,t=e.deepObrada.medijan,r=e.deepObrada.raspon[0],i=e.deepObrada.raspon[1],d=e.deepObrada.varijanca,l=e.deepObrada.standardnaDevijacija,o=e.deepObrada.rsd,s=e.superfObrada.aritmetiƒçkaSredina,c=e.superfObrada.medijan,u=e.superfObrada.raspon[0],p=(e.superfObrada.raspon[1],e.superfObrada.odstupanjeOdSredine),h=e.superfObrada.varijanca,j=e.superfObrada.rsd,b=e.superfObrada.standardnaDevijacija?e.superfObrada.standardnaDevijacija:"",m=`<h4> Aritmetiƒçka sredina ${n} </h4>\n<h4> Medijan ${t} </h4>\n<h4> Raspon ${r} - ${i} </h4>\n<h4> Prosjeƒçno odstupanje od aritmetiƒçke sredine ${a} </h4>\n<h4> Varijanca ${d} </h4>\n<h4> Standardna devijacija ${l} </h4>\n<h4> Relativna standardna devijacija ${o} </h4>\n`,f=`<h4> Aritmetiƒçka sredina ${s} </h4>\n<h4> Medijan ${c} </h4>\n<h4> Raspon ${u} - ${e.superfObrada.raspon[1]} </h4>\n<h4> Prosjeƒçno odstupanje od aritmetiƒçke sredine ${p} </h4>\n<h4> Varijanca ${h} </h4>\n<h4> Standardna devijacija ${b} </h4>\n<h4> Relativna standardna devijacija ${j} </h4>\n`;kontejnerTablica.insertAdjacentHTML("afterBegin"," <h2>Obrada DEEP</h2>"),kontejnerTablica.appendChild(napraviTablicu(e.deep)),kontejnerTablica.insertAdjacentHTML("beforeEnd",m),kontejnerTablica.insertAdjacentHTML("beforeEnd"," <h2>Obrada superficijal</h2>"),kontejnerTablica.appendChild(napraviTablicu(e.superf)),kontejnerTablica.insertAdjacentHTML("beforeEnd",f)},napraviRGB=(e=[])=>{let a=[];e.data.length;for(let n=0;n<e.data.length;n+=4){let t=[];t.push(e.data[n]),t.push(e.data[n+1]),t.push(e.data[n+2]),t.push(e.data[n+3]),a.push(t)}return a},raspodjela=function(e=[]){let a=e.reduce((e,a)=>((a[0]<51||a[1]<51||a[2]<51)&&(e[0]=e[0]+1),(a[0]<102&&a[0]>51||a[1]<102&&a[1]>51||a[2]<102&&a[2]>51)&&(e[1]=e[1]+1),(a[0]<153&&a[0]>102||a[1]<153&&a[1]>102||a[2]<153&&a[2]>102)&&(e[2]=e[2]+1),(a[0]<204&&a[0]>153||a[1]<204&&a[1]>153||a[2]<204&&a[2]>153)&&(e[3]=e[3]+1),(a[0]>204||a[1]>204||a[2]>204)&&(e[4]=e[4]+1),e),[0,0,0,0,0]);return a=a.map(a=>(a/e.length*100).toFixed(1))},obrniRGB=(e=[])=>{let a=[];e.data.length;for(let n=0;n<e.data.length;n+=4){a.push(255-e.data[n]),a.push(255-e.data[n+1]),a.push(255-e.data[n+2]),a.push(e.data[n+3])}return a},dajProsjekRgb=function(e=[]){let a=e.reduce((e,a)=>(e[0]=e[0]+a[0],e[1]=e[1]+a[1],e[2]=e[2]+a[2],e[3]=e[3]+a[3],e),[0,0,0,0]);return a=a.map(a=>a/e.length),a=Math.ceil(a[0])},rafiniraj=function(e=[],a=110){return e.reduce((e,n)=>(n[0]<a||n[1]<a||n[2]<a?e.push([255,255,255,255]):n[0]>153||n[1]>153||n[2]>153?e.push([255,0,0,255]):n[0]<153&&n[0]>a||n[1]<153&&n[1]>a||n[2]<153&&n[2]>a?e.push([0,255,0,255]):e.push([255,255,255,255]),e),[])},prosjekRafinirani=function(e=[],a=110){return e.filter(e=>e[0]<a||e[1]<a||e[2]<a).length/e.length},napraviObjekt=function(e="",a=0,n=0){let t=e;return{naslov:e,prosjek:a,rgbprosjek:n,deep:/deep/gi.test(t),superf:/superficial/gi.test(t)}},daliJeImeDeepiliSuperficijal=function(e){let a=/deep/gi.test(e),n=/superficial/gi.test(e);return a||n},arimetickaSredina=function(e=[]){return(e.reduce((e,a)=>e+Number(a),0)/(e.length||1)).toFixed(2)},medijan=function(e=[]){let a=[...e];if(a.sort((e,a)=>e-a),a.length){let e=a.length,n=Math.floor(e/2);if(e%2==0){return((Number(a[n-1])+Number(a[n]))/2).toFixed(2)}return Number(a[n]).toFixed(2)}},raspon=function(e=[]){let a=[...e];return a.sort((e,a)=>e-a),(Number(a[a.length-1])-Number(a[0])).toFixed(2)},prosAbOdstOdAritSred=function(e=[],a=arimetickaSredina(e)){return(e.reduce((e,n)=>e+Math.abs(Number(n)-a),0)/e.length).toFixed(2)},varijanca=function(e=[],a=arimetickaSredina(e)){return(e.reduce((e,n)=>e+Math.pow(Number(n)-a,2),0)/e.length).toFixed(4)},stanDevijacija=function(e=[]){return Math.sqrt(varijanca(e)).toFixed(4)},frekvencija=function(e=[]){let a=[...e].sort((e,a)=>e-a),n=a[0],t=0,r=[];const i=function(e,a){return[e,a]};return r=a.reduce((e,r,d)=>(r===n?(t++,d===a.length-1&&e.push(i(n,t))):(e.push(i(n,t)),t=1,n=r,d===a.length-1&&e.push(i(n,t))),e),[])},grupiranjeFrekvencija=function(e=[],a=1){let n=frekvencija(e);const t=n.length;let r=n[0][0],i=0,d=[];for(let e=0;e<t-1;e++)n[e][0]-r<a?(i+=n[e][1],e===t-2&&d.push(i)):(d.push(i),i=n[e][1],r=n[e][0],e===t-2&&(d.push(n[t-2][1]),d.push(n[t-1][1])));return d},dajNajmanje=function(e,a){let n=[];for(let t=0;t<a;t++)n.push(e[0]);return n},relativnoStandardnoOdstupanje=function(e=[]){let a=arimetickaSredina(e),n=stanDevijacija(e)/a*100;return isNaN(n)&&(n=0),n.toFixed(2)},frekvencijePromise=function(e=[],a=1){return new Promise((n,t)=>{let r=[...e];r.sort((e,a)=>e-a);let i=[],d=[],l=Number(r[0]);for(let e=0;e<r.length;e++)Number(r[e])-l<a?(d.push(r[e]),e===r.length-1&&i.push(d)):(i.push(d),d=[],l=Number(r[e]),d.push(r[e]),e===r.length-1&&i.push(d));n(i),t("Gre≈°ka u obradi frekvencija")})},napraviObradu=function(e=[],a=e[0]){let n=e.slice(1,e.length);return e.length<=1&&(n=[0]),{"aritmetiƒçkaSredina":arimetickaSredina(e),medijan:medijan(e),raspon:[e[0],e[e.length-1]],odstupanjeOdSredine:prosAbOdstOdAritSred(e,this.arimetickaSredina),varijanca:varijanca(e,this.aritmetiƒçkaSredina),standardnaDevijacija:stanDevijacija(e),najmanji:a,rsd:relativnoStandardnoOdstupanje(e),standarDevBezNajmanjeg:stanDevijacija(n)}},obradaPodataka=function(e=[]){let a=e.filter(e=>e.deep).sort((e,a)=>e.prosjek-a.prosjek),n=e.filter(e=>e.superf).sort((e,a)=>e.prosjek-a.prosjek),t=a.length>0?a.map(e=>e.prosjek):[0],r=n.length>0?n.map(e=>e.prosjek):[0];return{deep:a,superf:n,deepObrada:napraviObradu(t,a[0]),superfObrada:napraviObradu(r,n[0])}},nacrtajGrafCanvas=function(e=[]){if(e.length>0){let a,n=e[e.length-1];a=void 0===n?0:n[n.length-1];let t=[e[0][0],a];const r=5;let i=Number(t[0]);const d=["lightblue","lightgreen","pink","silver","lightblue","lightgreen","pink","silver","lightblue","lightgreen","pink","silver"];let l=Number(t[1])-Number(t[0]),o=Math.ceil(l/r);0===o&&(o=1);let s=Math.ceil(240/l),c=e.length,u=Math.ceil(l/c)*s,p=document.createElement("canvas");p.setAttribute("width","300px"),p.setAttribute("height","300px");let h=p.getContext("2d");h.strokeRect(0,0,300,300);let j=10,b=0,m=e.reduce((e,a)=>e<a.length?a.length:e,-1/0),f=0;console.log("grafx",j);const k=function(e){let a=e.length/m*300*.8;b=299-a,h.fillStyle=d[f]||"blue",h.fillRect(j,b,30,a),h.save(),h.font="20px Times",h.fillStyle="red",h.translate(j+10,80),h.fillText(e.length,0,0),h.restore(),h.save(),h.font="10px Times",h.fillStyle="red",h.translate(j+5,290),h.fillText(e[0],0,0),h.restore(),j+=u,f++,i+=Number(o)};return e.forEach(k),p}return document.createElement("div")},dajDep=function(e=[],a=1){let n=e.deep.map(e=>e.prosjek);frekvencijePromise(n,a).then(e=>{let a=nacrtajGrafCanvas(e);kontejnerTablica.insertAdjacentHTML("beforeEnd","<h3>deep</h3>"),kontejnerTablica.insertAdjacentElement("beforeEnd",a)})},dajSuperf=function(e=[],a=1){let n=e.superf.map(e=>e.prosjek);frekvencijePromise(n,a).then(e=>{let a=nacrtajGrafCanvas(e);kontejnerTablica.insertAdjacentHTML("beforeEnd","<h3>superficijal</h3>"),kontejnerTablica.insertAdjacentElement("beforeEnd",a)})},updateStanje=function(e=1){napraviTablicuObrade2(obrada),dajDep(obrada,e),dajSuperf(obrada,e),klasaKlizaci.style.display="block"};let stanje=[],obrada=[];const kontejner=document.getElementById("kontejner"),kontejnerTablica=document.getElementById("kontejnertablica"),spiner=document.getElementById("spiner"),linkObrada=document.getElementById("obrada");linkObrada.addEventListener("click",function(){(obrada.deep||obrada.superf)&&(updateStanje(),klasaKlizaci.style.display="block")});const slider=document.getElementById("slider"),klasaKlizaci=document.querySelector(".klizac");klasaKlizaci.style.display="none";const brojacSlider=document.getElementById("brojac__slider");slider.addEventListener("change",function(){brojacSlider.innerHTML=this.value,updateStanje(this.value)});const tablica=document.getElementById("tablica"),link=document.getElementById("link");link.download="tablica.txt",link.addEventListener("click",e=>{let a,n=Date.now(),t=prompt("Unesite ime datoteke","Datoteka");if(null==t||""==t)return;a=t+" "+n+" JSON.json",link.download=a;let r={};r=Object.assign({},obrada);let i=JSON.stringify(r),d=new Blob([i],{type:"text/plain"});link.href=URL.createObjectURL(d),URL.revokeObjectURL(link.herf)});const fileInput=document.getElementById("file");fileInput.style.display="none";const prikazDat=document.getElementById("prikazdat");fileInput.addEventListener("change",()=>{prikazDat.innerHTML="",prikazDat.innerHTML=fileInput.files[0].name,gumb()});const izaberi=document.getElementById("izaberi");function gumb(e){let a=fileInput.files.length-1;setTimeout(window.requestAnimationFrame(()=>spiner.innerHTML=`${a} üêá`),200);fileInput.files.length;const n=function(){if(-1===a)return;let e=fileInput.files[a].name;for(;!daliJeImeDeepiliSuperficijal(e);){if(-1===--a)return void setTimeout(()=>spiner.innerHTML="üêú ",5e3);e=fileInput.files[a].name}new Promise((e,n)=>{e(fileInput.files[a])}).then(e=>{let a=new FileReader;return a.readAsDataURL(e),a}).then(t=>{t.onload=function(){const r=document.createElement("img"),i=document.createElement("div"),d=document.createElement("tr"),l=document.createElement("td"),o=document.createElement("td"),s=document.createElement("td");r.src=t.result,r.onload=(()=>{spiner.innerHTML=`${a} üêá`,0!==Number(a)&&1!==Number(a)||setTimeout(()=>spiner.innerHTML="üêú ",5e3),0,kontejner.appendChild(r);let t=document.createElement("canvas"),c=document.createElement("canvas");const u=t.getContext("2d"),p=c.getContext("2d");t.width=r.width,t.height=r.height,c.width=r.width,c.height=r.height,u.drawImage(r,0,0);const h=u.getImageData(0,25,t.width,t.height-25,0,t.width,t.height-25),j=napraviRGB(h);let b=dajProsjekRgb(j);let m=rafiniraj(j,b).flat(),f=Uint8ClampedArray.from(m);const k=new ImageData(f,c.width,c.height-25);let g=100*(1-prosjekRafinirani(j));g=g.toFixed(2);let v=b;i.innerHTML=` RGB Prosjek ${v}  <br> \n    relativni postotak ≈æila na ukupnoj na slici ${g} %`,l.innerText=e,s.textContent=g,o.textContent=v,d.appendChild(l),d.appendChild(s),tablica.append(d),p.putImageData(k,0,0);let O=document.createElement("h4");O.innerHTML=e,kontejner.appendChild(O),kontejner.appendChild(c),kontejner.appendChild(i),stanje.push(napraviObjekt(e,g,v)),obrada=Object.assign(obrada,obradaPodataka(stanje)),r.complete&&a>-1&&(a--,n())})}})};n()}izaberi.addEventListener("click",e=>{fileInput&&fileInput.click()},!1);



</script>
</html>